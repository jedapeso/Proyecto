<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tablero de Cirug√≠a - Cl√≠nica del Caribe</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='tableros/css/tablero_cir_pub.css') }}">
</head>
<body>
    <header>
        <img src="{{ url_for('static', filename='images/logo_clinica.png') }}" alt="Cl√≠nica del Caribe" class="logo">
        <h1>Tablero de Seguimiento de la Ubicaci√≥n del Paciente Quir√∫rgico</h1>
        <div class="spacer"></div>
    </header>

    <div class="contenedor-estados">
        <!-- PREPARACI√ìN -->
        <div class="columna-estado">
            <div class="header-estado preparacion">
                <span class="icon-estado">ü©∫</span>
                <span>PREPARACI√ìN</span>
            </div>
            <div id="pacientes-preparacion" class="lista-pacientes">
                <!-- Se llena din√°micamente -->
            </div>
        </div>

        <!-- QUIR√ìFANO -->
        <div class="columna-estado">
            <div class="header-estado quirofano">
                <span class="icon-estado">üöÅ</span>
                <span>QUIR√ìFANO</span>
            </div>
            <div id="pacientes-quirofano" class="lista-pacientes">
                <!-- Se llena din√°micamente -->
            </div>
        </div>

        <!-- RECUPERACI√ìN -->
        <div class="columna-estado">
            <div class="header-estado recuperacion">
                <span class="icon-estado">üõèÔ∏è</span>
                <span>RECUPERACI√ìN</span>
            </div>
            <div id="pacientes-recuperacion" class="lista-pacientes">
                <!-- Se llena din√°micamente -->
            </div>
        </div>
    </div>

    <!-- Modal para ingresar clave -->
    <div id="modalClave" class="modal-overlay" style="display: none;">
        <div class="modal-clave">
            <button class="cerrar-modal" onclick="cerrarModalClave()">√ó</button>
            <h2>Acceso Personalizado</h2>
            <p class="info-modal">Ingrese los √∫ltimos 4 d√≠gitos de la identificaci√≥n</p>
            <input type="password" id="inputClave" maxlength="4" class="input-clave" placeholder="****" autocomplete="off">
            <button onclick="validarClave()" class="btn-validar">Validar</button>
            <p id="errorClave" class="error-mensaje"></p>
        </div>
    </div>

    <!-- Modal para mostrar QR -->
    <div id="modalQR" class="modal-overlay" style="display: none;">
        <div class="modal-qr">
            <button class="cerrar-modal" onclick="cerrarModalQR()">√ó</button>
            <h2>‚úì Acceso Concedido</h2>
            <p class="info-exito">Escanee el c√≥digo QR con su celular</p>
            <div class="qr-container">
                <img id="imagenQR" src="" alt="C√≥digo QR" class="qr-image">
            </div>
            <p class="info-paciente-qr" id="nombrePacienteQR"></p>
            <p class="instrucciones-qr">Este c√≥digo es v√°lido para seguimiento en tiempo real</p>
            <button onclick="cerrarModalQR()" class="btn-cerrar-qr">Cerrar</button>
        </div>
    </div>

    <footer>
        <p>√öltima actualizaci√≥n: <span id="hora-actualizacion">--:--</span></p>
    </footer>

    <script src="{{ url_for('static', filename='tableros/js/tablero_cir_pub.js') }}"></script>
</body>
</html>
