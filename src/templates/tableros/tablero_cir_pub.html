<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tablero de Cirugía - Clínica del Caribe</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='tableros/css/tablero_cir_pub.css') }}">
</head>
<body>
    <!-- Header Principal -->
    <header class="header-principal">
        <div class="header-content">
            <div class="logo-section">
                <i class="fas fa-hospital-alt"></i>
                <div class="header-text">
                    <h1>Seguimiento Quirúrgico Ubicación del paciente en tiempo real</h1>
                     <span class="header-translation">Real-time Patient Tracking</span>
                </div>
            </div>
            <div class="update-info">
                <i class="fas fa-sync-alt" id="icon-sync"></i>
                <span class="update-label">Última actualización:</span>
                <span class="update-time" id="hora-actualizacion">--:--:--</span>
                <span class="update-translation">Last update</span>
            </div>
        </div>
    </header>


    <!-- Contenedor Principal -->
    <main class="main-content">
        <div class="tablero-grid">
            <!-- Columna Preparación -->
            <div class="columna-estado" data-estado="preparacion">
                <div class="columna-header preparacion">
                    <div class="header-icon">
                        <i class="fas fa-user-clock"></i>
                    </div>
                    <div class="header-title-wrapper">
                        <h2>Preparación</h2>
                        <span class="header-translation">Preparation</span>
                    </div>
                </div>
                <div class="lista-pacientes" id="pacientes-preparacion">
                    <!-- Se llena dinámicamente -->
                </div>
            </div>


            <!-- Columna Quirófano -->
            <div class="columna-estado" data-estado="quirofano">
                <div class="columna-header quirofano">
                    <div class="header-icon">
                        <i class="fas fa-procedures"></i>
                    </div>
                    <div class="header-title-wrapper">
                        <h2>Quirófano</h2>
                        <span class="header-translation">Operating Room</span>
                    </div>
                </div>
                <div class="lista-pacientes" id="pacientes-quirofano">
                    <!-- Se llena dinámicamente -->
                </div>
            </div>


            <!-- Columna Recuperación -->
            <div class="columna-estado" data-estado="recuperacion">
                <div class="columna-header recuperacion">
                    <div class="header-icon">
                        <i class="fas fa-bed"></i>
                    </div>
                    <div class="header-title-wrapper">
                        <h2>Recuperación</h2>
                        <span class="header-translation">Recovery</span>
                    </div>
                </div>
                <div class="lista-pacientes" id="pacientes-recuperacion">
                    <!-- Se llena dinámicamente -->
                </div>
            </div>
        </div>
    </main>


    <!-- Modal para ingresar clave -->
    <div id="modalClave" class="modal-overlay" style="display: none;">
        <div class="modal-clave">
            <button class="cerrar-modal" onclick="cerrarModalClave()">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-icon-lock">
                <i class="fas fa-lock"></i>
            </div>
            <h2>Acceso Personalizado</h2>
            <p class="info-modal">Ingrese los últimos 4 dígitos de la identificación</p>
            <input type="password" id="inputClave" maxlength="4" class="input-clave" placeholder="••••" autocomplete="off">
            <button onclick="validarClave()" class="btn-validar">
                <i class="fas fa-check"></i> Validar
            </button>
            <p id="errorClave" class="error-mensaje"></p>
        </div>
    </div>


    <!-- Modal para mostrar QR -->
    <div id="modalQR" class="modal-overlay" style="display: none;">
        <div class="modal-qr">
            <button class="cerrar-modal" onclick="cerrarModalQR()">
                <i class="fas fa-times"></i>
            </button>
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2>Acceso Concedido</h2>
            <p class="info-exito">Escanee el código QR con su celular</p>
            <div class="qr-container">
                <img id="imagenQR" src="" alt="Código QR" class="qr-image">
            </div>
            <p class="info-paciente-qr">
                <i class="fas fa-user"></i>
                <span id="nombrePacienteQR"></span>
            </p>
            <p class="instrucciones-qr">Código válido para seguimiento en tiempo real</p>
            <button onclick="cerrarModalQR()" class="btn-cerrar-qr">
                <i class="fas fa-times"></i> Cerrar
            </button>
        </div>
    </div>


    <!-- Footer -->
    <footer class="footer-info">
        <div class="footer-content">
            <span class="connection-status">
                <span class="status-dot online"></span>
                <span>Sistema en línea</span>
            </span>
        </div>
    </footer>


    <script src="{{ url_for('static', filename='tableros/js/tablero_cir_pub.js') }}"></script>
</body>
</html>
